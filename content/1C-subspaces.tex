\section{Subspaces}

\begin{mydef} [subspace]
  A subset $U$ of $V$ ($U \subseteq V$) is called a \qt{subspace} of $V$ if $U$ is also a vector space with the same additive identity, addition, and scalar multiplication as on $V$.
\end{mydef}

\begin{thm} [conditions for a subspace]
  \label{thm: conditions for a subspace}
  A subset $U$ of $V$ is a subspace of $V$ $\iff$ $U$ satisfies the following three conditions:
  \begin{itemize}
    \item \emph{Additive identity:}
    $0 \in U$
    \item \emph{Closed under addition:}
    $u,w \in U \implies u+w \in U$
    \item \emph{Closed under scalar multiplication:}
    $a \in \myF$ and $u \in U \implies au \in U$
  \end{itemize}
  The additive identity condition above could be replaced by the condition that $U$ is nonempty (because then taking $u \in U$ and multiplying it by $0$ would imply that $0\in U$).
\end{thm}
\begin{prf} We need to show the proposition in two directions.
  \begin{description}
    \item{\Rightarrowdirection} If $U$ is a subspace of $V$, then $U$ satisfies the three conditions above by the definition of a vector space.
    \item{\Leftarrowdirection} The first condition ensures, that the additive identiy $0$ of $U$ is in $U$. The other two conditions make sure, that addition and scalar multiplication make sense on $U$.
    Thanks to \ref{thm: minus one times a vector} and the third condition (closedness under scalar multiplication), every $u \in U$ has an additive inverse $-u = (-1) u$.
    The other parts of the definition of a vector space, such as associativity, commutativity and the distributive properties, are automatically satisfied for $U$ because they hold on the larger space $V$. Thus $U$ is a vector space and hence a subspace of $V$.
  \end{description}
  \vspace*{-\baselineskip}
\end{prf}

%\textbf{1.34} $U\subseteq V$ is a subspace of $V$ $\iff$
%\begin{itemize}
%	\item additive identity: $0 \in U$
%	\item closed under addition: $u,w\in U \implies u+w \in U$
%	\item closed under scalar multiplication: $a \in \myF$ and $u\in U$ $\implies$ $au \in U$
%\end{itemize}

\subsection{Sum of Subspaces}

% 1.36
\setcounter{thm}{35}
\begin{mydef}[sum of subspaces]
  If $V_1, \ldots, V_m$ are subspaces of $V$, the \qt{sum} of $V_1, \ldots, V_m$, denoted by $V_1 + \cdots + V_m$, is the set of all possible sums of elements of $V_1, \ldots, V_m$. More precisely,
\begin{equation}
    V_1 + \cdots + V_m := \{v_1 + \cdots + v_m \mid v_1 \in V_1, \ddd , v_m \in V_m \}.
\end{equation}
\end{mydef}

%\textbf{1.40}
\setcounter{thm}{39}
\begin{thm} [sum of subspaces is the smallest containing subspace]
  \label{thm: sum of subspaces is the smallest containing subspace}
  If $V_1, \ddd, V_m$ are subspaces of $V$, then $V_1 + \cdots + V_m$ is the smallest subspace of $V$ containing $V_1, \ddd , V_m$.
\end{thm}
\begin{prf}
  We first prove that $W := \sum_{k=1}^m V_k$  is a subspace of $V$,
  and then show it is the smallest such subspace
  containing each $V_k$.
  Since $0 \in V_k \;\forall k \in \{1, \ddd, m\}$, we have $0 = 0 + \cdots + 0 \in W$.
  If
  \(u = \sum_{k=1}^m v_k \in W\) and
  \(w = \sum_{k=1}^m v'_k \in W\)
  with \(v_k, v'_k\in V_k\), then
  \[
    \textstyle
    u + w = \sum_{k=1}^m (v_k + v'_k)\;\in\;W, \quad \text{since each \(V_k\) is closed under addition.}
  \]


  For any $\lambda \in \myF$,
  \begin{equation}
      \textstyle
      \lambda u = \lambda \sum_{k=1}^m v_k =  \sum_{k=1}^m \underbrace{\lambda v_k}_{\in \, V_k}  \in W,
      \quad \text{ as each \(V_k\) is closed under scalar multiplication. }
  \end{equation}

  Thus, $W$ contains $0$, is closed under addition and scalar multiplication, and hence, is a subspace of $V$, by \ref{thm: conditions for a subspace}.
  Now, we have to show the minimality of $W$ and that $W$ is contained in every subspace of $V$, containing $V_1, \ddd, V_m$.
  The subspaces $V_1, \ddd, V_m$ are all contained in $W$, i.e $\forall \kInOneTillM: V_k \subseteq W$. This is because every $v \in V_k$ can be written as $v = 0 + \cdots + v + \cdots + 0$.

  Conversely, every subspace of $V$ containing $V_1, \ldots, V_m$ contains $W$, because $V$ is closed under addition. Thus, $W$ is the smallest subspace of $V$ containing $V_1, \ldots, V_m$.
\end{prf}

\subsection{Direct Sums}

%\textbf{1.41}
\setcounter{thm}{40}
\begin{mydef}[direct sum, $\oplus$]
  \label{def: direct sum}
  %NO COMMA BEFORE IF ACC TO AXLER
  $V_1 + \cdots + V_m$ is called a \qt{direct sum} if each element of $V_1 +\cdots+V_m$ can be written in only one way as a sum $v_1 + \cdots + v_m$, where each $v_k \in V_k$. In this case, we write:
  \begin{equation}
    V_1 \oplus \cdots \oplus V_m := V_1 + \cdots + V_m
  \end{equation}
\end{mydef}

\begin{example}
  Example: $\myF^3 =
  \left \{ \left ( x, y, 0 \right ) \in \myF^3 \mid x,y \in \myF \right \}
  \oplus
  \left \{ \left (  0, 0, z  \right ) \in \myF^3 \mid z \in \myF \right \}$
\end{example}


%\textbf{1.45}
\setcounter{thm}{44}
\begin{thm} [condition for a direct sum]
  \label{thm: condition for a direct sum}
  %$V_1 + \cdots + V_m$ is a direct sum $\iff$ the only write $0$ as a sum $v_1 + \cdots + v_m$, where each $v_k \in V_k$, is by taking each $v_k$ equal to $0$.
  $\sum_{k=1}^m V_k$ is a direct sum (i. e. $\sum_{k=1}^m V_k = \bigoplus_{k=1}^m V_k$) $\iff$ the only way to express $0$ as $v_1 + \cdots + v_m$ with $v_k \in V_k$ is $v_1 = \cdots = v_m = 0$.
\end{thm}
\begin{prf}
    \Rightarrowdirection
    First, suppose $\sum_{k=1}^m V_k$ is a direct sum.
    By uniqueness of decompositions, the only way to write $0 = v_1 + \cdots + v_m$ is $v_1 = \cdots = v_m = 0$.

    \Leftarrowdirection Second, suppose that the only way to write $0$ as a sum $w_1 + \cdots + w_m$ where each $w_k \in V_k$, is by taking each $w_k = 0$. Let $v \in \sum_{k=1}^m V_k$, with
    \begin{equation}
        v = v_1 + \cdots + v_m = u_1 + \cdots + u_m, \quad v_k, u_k \in V_k \text{ (for k=1, \ddd, m)} .
    \end{equation}

    Subtracting gives
    \begin{equation}
      0= \underbrace{(v_1-u_1)}_{= \, 0}+\cdots+\underbrace{(v_m-u_m)}_{= \, 0}.
    \end{equation}

    By hypothesis, each summand must be zero, so $v_1=u_1, \ddd, v_m=u_m$.
    Hence, every element has a unique decomposition, so $\sum_{k=1}^m V_k$ is direct.
\end{prf}

%\textbf{1.46}
\setcounter{thm}{45}
% TODO: better name
\begin{thm} [sum and intersection of two subspaces]
  \label{thm: sum and intersection of two subspaces}
  $U+W$ is a direct sum, i.e. $U+W = U \oplus W$ $\iff$ $U \cap W = \{0\}$.
\end{thm}
\begin{prf} Let $U$ and $W$ be subspaces of the same vector space.
  \begin{description}
    \item{\Rightarrowdirection} First suppose $U+W$ is a direct sum. If $v \in U \cap W$, then $v, -v \in U \myand v, -v \in W$. We also have that
    \begin{equation}
      0 = v + (-v), \where v\in U \myand (-v) \in W.
    \end{equation}
    Because $U+W$  is a direct sum and writing $0$ as $0 = 0+(-0)=0+0$ is unique, the equation above implies that $v=0$. Therefore $U \cap W = \{0\}$.

    \item{\Leftarrowdirection} Suppose $U\cap W = \{0\}$. Let  $u\in U$ and $w \in W$ such that
    \begin{equation}
      \label{eq: zero equals u plus w}
      0 = u+w
    \end{equation}
    By \ref{thm: condition for a direct sum}, we know that our goal is to show that this implies $u=w=0$. The equation \eqref{eq: zero equals u plus w} above implies that $u=-w\in W$  and $w=-u \in U$ for all arbitrary choices of $U$ and $W$. Thus $u,w \in U\cap W$. Hence, $u=w=0$. Therefore, $U+W$ is a direct sum.
  \end{description}
  \vspace{-\baselineskip}
\end{prf}

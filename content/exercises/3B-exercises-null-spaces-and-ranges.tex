\subsection*{Exercises about Null Spaces and Ranges 3B}
\hrule
\phantom{.}
\begin{xrcs}
  Exercise 1
\end{xrcs}
\setcounter{xrcscount}{8}
%\begin{xrcs}
%  Suppose $T \in \linmap(V,W)$ is injective and $v_1, \ddd, v_n$ is linearly independent in $V$. Prove that $Tv_1, \ddd, Tv_n$ is linearly independent in $W$.
%\end{xrcs}
%\begin{prf}
%  Let $a_1, \ddd, a_n \in \myF$ such that $a_1 v_1 + \cdots + a_n v_n  = 0$. We know that following equivalences hold:
%  \begin{equation}
%    \begin{aligned}
%              a_1 v_1 + \cdots + a_n v_n  &= 0 \\
%      \iff T (a_1 v_1 + \cdots + a_n v_n) &= 0 \\
%      \iff a_1 T v_1 + \cdots + a_n T v_n &= 0 \\
%    \end{aligned}
%  \end{equation}
%
%  Since we know this only happens if $a_1 = 0, \ddd, a_n = 0$, the last equation shows that $T v_1, \ddd, T v_n$ is linearly independent. We have used the fact that $T$ is injective for the first equivalence.
%\end{prf}

\setcounter{xrcscount}{7}
\begin{xrcs} % ChatGTP did a lot of changes
  Suppose $T \in \linmap(V,W)$ is injective and $v_1, \ddd, v_n$ is linearly independent in $V$. Prove that $Tv_1, \ddd, Tv_n$ is linearly independent in $W$.

  \begin{xprf}
    Let $a_1, \ddd, a_n \in \myF$ such that
    \[
    a_1 Tv_1 + \cdots + a_n Tv_n = 0.
    \]
    By the linearity of $T$, this implies:
    \[
    T(a_1 v_1 + \cdots + a_n v_n) = 0.
    \]
    Since $T$ is injective, and $T(0)=0$ by \ref{thm: linear maps take 0 to 0}, \( T(u) = 0 \) if and only if \( u = 0 \). Thus:
    \[
    a_1 v_1 + \cdots + a_n v_n = 0.
    \]
    Because $v_1, \ddd, v_n$ are linearly independent in $V$, we conclude:
    \[
    a_1 = 0, \ddd, a_n = 0.
    \]
    Thus, $Tv_1, \ddd, Tv_n$ are linearly independent in $W$.
  \end{xprf}
\end{xrcs}

\begin{xrcs}
  Suppose $v_1, \ddd, v_n$ spans $V$ and $T \in \linmap(V,W)$. Show that $Tv_1, \ddd, Tv_n$ spans $\myrange T$.

  \begin{xprf}
    Let $v = a_1 v_1 + \cdots + a_n v_n \in V$, where $a_1, \ddd, a_n \in \myF$.
    \begin{equation}
      \implies Tv = a_1 T v_1 + \cdots + a_n T v_n \in \myrange T.
    \end{equation}

    Thus, every element of $Tv \in \myrange T$ can be written as a linear combination of $Tv_1, \ddd, Tv_n$. Hence,
    \begin{equation}
      \myrange T \subseteq \myspan{T v_1, \ddd, T v_n}.
    \end{equation}

    Conversely, \( Tv_1, \ddd, Tv_n \in \myrange T \) and $\myrange T$ is a vector space which is closed under addition and multiplication. Therefore, $\myrange T = \myspan{Tv_1, \ddd, Tv_n}$.
  \end{xprf}
\end{xrcs}


%\setcounter{xrcs}{14}
%\begin{xrcs}
%  Suppose there exists a linear map $T \in \linmap(V)$ on $V$ such whose null space $\mynull(T)$ and range $\myrange(T)$ are both finite-dimensional. Prove that $V$ is finite-dimensional.
%\end{xrcs}
%\begin{prf}
%  According to the rank-nullity theorem \ref{rank-nullity-theorem} we have
%  \begin{equation}
%    \dim V = \underbrace{\dim \myrange T}_{\neq \infty} + \underbrace{\dim \mynull (T)}_{\neq \infty}
%  \end{equation}
%
%  Hence, $\dim V \neq \infty$.
%\end{prf}
%
%\begin{xrcs}
%  Suppose $V$ and $W$ are both finite-dimensional. Prove that there exists an injective linear map $T \in \linmap(V,W)$
%  \begin{equation}
%    \iff \dim V \leq \dim W.
%  \end{equation}
%\end{xrcs}
%\begin{prf}
%  \Rightarrowdirection If there exists an injective linear map $T \in \linmap (V,W)$, then we have $\mynull T = \{0\}$ with $\dim \mynull T = 0$. Using \ref{rank-nullity-theorem}, we conclude
%  \begin{equation}
%    \begin{aligned}
%      \implies \dim V = \dim \myrange T \leq W,
%    \end{aligned}
%  \end{equation}
%
%  because $\myrange T \subseteq W$.
%
%  \Leftarrowdirection Let $\dim V \leq \dim W$. For any $T \in \linmap(V,W)$, it holds that
%  \begin{equation}
%    \dim \mynull T = \dim V - \dim \myrange T \geq \dim V - \dim W,
%  \end{equation}
%
%  since $\myrange T \subseteq W$. Now, we use the assumption $\dim V \leq \dim W$ we conclude:
%  \begin{equation}
%    \dim \mynull T \geq 0
%  \end{equation}
%
%  Thus, we conclude that a $T \in \linmap (V,W)$ exists such that $\mynull T = \{0\}$. On the other hand, if we would have assumed that $\dim V > \dim W$, this would have implied that
%  \begin{equation}
%    \dim \mynull T \geq 1.
%  \end{equation}
%
%  For such $V$ and $W$, no injective map would exist because $\mynull T$ must be $\{0\}$, which has dimension $0$. Now we have proven both directions.
%\end{prf}
%
%\begin{xrcs}
%   Suppose $V$ and $W$ are both finite-dimensional. Prove that there exists a surjective linear map from $V$ onto $W$
%   \begin{equation}
%     \iff \dim V \geq W
%   \end{equation}
%\end{xrcs}
%\begin{prf}
%  \Rightarrowdirection Suppose $\exists T \in \linmap(V,W)$ such that $T$ is surjective. Using \ref{rank-nullity-theorem} and the fact that $\myrange T = W$, it follows
%  \begin{equation}
%    \begin{aligned}
%      \dim \myrange T + \dim \mynull T &   = \dim V \\
%               \dim W + \dim \mynull T &   = \dim V \\
%                                \dim W &\leq \dim V.
%    \end{aligned}
%  \end{equation}
%
%  \Leftarrowdirection Suppose $\dim V \geq W$. Looking at
%  \begin{equation}
%    \begin{aligned}
%      \dim V &= \dim \myrange T + \dim \mynull T. \\
%             &= \underbrace{\dim W}_{\geq 0} + \underbrace{\dim \mynull T}_{\geq 0}.
%    \end{aligned}
%  \end{equation}
%
%  given by the rank-nullity theorem, we can see that this equation can only hold if and only if $\dim V \geq W$. Otherwise, if $\dim V < W$, no $T \in \linmap (V,W)$ with $\myrange T=W$ can exist.
%\end{prf}
%
%\begin{xrcs}
%  Suppose $V$ and $W$ are finite-dimensional and thet $U$ is a subpace of $V$. Prove that there exists a $T \in \linmap (V,W)$ such that $\mynull T = U$
%  \begin{equation}
%    \iff \dim U \geq \dim V - \dim W.
%  \end{equation}
%\end{xrcs}
%\begin{prf}
%  \Rightarrowdirection Let $T \in \linmap (V,W)$ such that $U:\equiv \mynull T$. As always,
%  \begin{equation}
%    \begin{aligned}
%      \dim V &=     \dim \myrange T + \dim \mynull T \\
%             &=     \dim \myrange T + \dim U \\
%             & \leq \dim W          + \dim U \\
%        \iff & \dim V - \dim W \leq \dim U.
%    \end{aligned}
%  \end{equation}
%
%  \Leftarrowdirection Conversely, let $U$ be a subspace of $V$ such that
%  \begin{equation}
%    \dim U \geq \dim V - \dim W \quad $or equivalently$
%  \end{equation}
%  \begin{equation}
%    \dim V \leq \dim U + \dim W.
%  \end{equation}
%
%  For any $T \in \linmap(V,W)$ it holds that
%  \begin{equation}
%    \dim V = \dim \myrange T + \dim \mynull T \leq \dim W + \dim \mynull T.
%  \end{equation}
%\end{prf}

\exercise{12}
\begin{xrcs}
  Suppose $T$ is a linear map from $\myF^4$ to $\myF^2$ such that
  \begin{equation}
    \mynull T :\equiv \{(x_1, x_2, x_3, x_4) \in \myF \mid x_1 = 5x_2 \text{and} x_3 = 7x_4 \}.
  \end{equation}

  Prove that $T$ is surjective.

  \begin{xprf}
    To prove that $T$ is surjective, we need to find the dimension of $\mynull T$. We can rewrite:
    \begin{equation}
      \begin{aligned}
        \mynull T &= \{(5a, a, 7b,b) \mid a \in \myF \mytext{and} b \in \myF \} \\
                  &= \{t_1 (5,1,0,0) + t_2(0,0,7,1) \mid t_1 \in \myF \mytext{and} t_2 \in \myF \}.
      \end{aligned}
    \end{equation}

    Which shows that $\mynull T$ is a $2$-dimensional plane in $\myF^4$. Since according to the rank-nullity theorem we have $\dim \myF^4 = \dim \mynull T + \dim \myrange T$, we derive that $\dim \myrange T = 2$. Using $\ref{thm: subspace of full dimension equals the whole space}$, we conclude:
    \begin{equation}
      \label{eq: range T = F^2}
      \myrange T = \myF^2.
    \end{equation}

    Theorem $\ref{thm: subspace of full dimension equals the whole space}$ states that if a subspace of a vector space has the same dimension as the vector space itself, then the subspace is equals to the whole space. This is what we have uses above. Equation \eqref{eq: range T = F^2} tells us that $T$ is surjective.
  \end{xprf}
\end{xrcs}

\exercise{13}
\begin{xrcs}
  Suppose $U$ is a three-dimensional subspace of $\real^8$ and $T$ is a linear map from $\real^8$ to $\real^5$ such that
  \begin{equation}
    \mynull T = U.
  \end{equation}

  Prove that $T$ is surjective.

  \begin{xprf}
    According to the rank-nullity theorem we have
    \begin{equation}
      \begin{aligned}
        \dim \real^8 &= \dim \mynull T + \dim \myrange T \\
                 8 &= 3 + \dim \myrange T.
      \end{aligned}
    \end{equation}

    Thus, $\dim \myrange T = 5$. We also know that $\myrange T \subseteq \real^5$. Since a subspace of full dimension equals the whole space itself according to \ref{thm: subspace of full dimension equals the whole space}, we conclude:
    \begin{equation}
      \myrange T = \real^5.
    \end{equation}

    Thus, $T$ is surjective.
  \end{xprf}
\end{xrcs}

\exercise{14}
\begin{xrcs}
  Prove that there does not exist a linear map from $\myF^5$ to  $\myF^2$ whose null space equals
  \begin{equation}
    S :\equiv \{(x_1, x_2, x_3, x_4, x_5) \in \myF^5 \mid x_1 = 3 x_2 \mytext{and} x_3 = x_4 = x_5 \}.
  \end{equation}

  \begin{xprf}
    We can rewrite $S$ as
    \begin{equation}
      \begin{aligned}
        S = \{ ( 3a, a, b,b,b) \mid a \in \myF \mytext{and} b \in \myF \}
        = \{ t_1 (3,1,0,0,0) + t_2 (0,0,1,1,1) \mid  t_1 \in \myF \mytext{and} t_2 \in \myF \}.
      \end{aligned}
    \end{equation}

    As we can see, $\dim S = 2$. Using the rank-nullity theorem we have
    \begin{equation}
      \begin{aligned}
        &\dim \myF^5 = \dim \mynull T + \dim \myF^2 \\
        &\implies \dim \mynull T = 3 \neq 2 = \dim \mynull S.
      \end{aligned}
    \end{equation}

    Therefore, $\mynull T$ could never equal $S$.
  \end{xprf}
\end{xrcs}

\exercise{15}
\begin{xrcs}
  Suppose there exists a linear map $T \in \linmap(V)$ on $V$ such that its null space $\mynull(T)$ and range $\myrange(T)$ are both finite-dimensional. Prove that $V$ is finite-dimensional.

  \begin{xprf}
    According to the rank-nullity theorem, we have: $ \dim V = \dim \myrange(T) + \dim \mynull(T)$. Since both $\dim \myrange T$ and $\dim \mynull T$ are finte by assumption, their sum is also finite. Hence, $\dim V$ is finite, and V is finite-dimensional.
  \end{xprf}
\end{xrcs}

\begin{xrcs}
  Suppose $V$ and $W$ are both finite-dimensional. Prove that there exists an injective linear map $T \in \linmap(V,W)$ $\iff$ $\dim V \leq \dim W$.

  \begin{xprf}
    \Rightarrowdirection If there exists an injective linear map $T \in \linmap(V,W)$, then $\mynull(T) = \{0\}$, so $\dim \mynull(T) = 0$. By the rank-nullity theorem:
    \begin{equation}
      \dim V = \dim \myrange(T) \leq \dim W, \quad $ because $ \myrange(T) \subseteq W.
    \end{equation}

    \Leftarrowdirection Let $\dim V \leq \dim W$. For any $T \in \linmap(V,W)$, we know
    \begin{equation}
      \dim \mynull(T) = \dim V - \dim \myrange(T) \geq \dim V - \dim W.
    \end{equation}
    Since $\dim V \leq \dim W$, it follows that $\dim \mynull(T) \geq 0$, which is consistent with the existence of an injective map $T \in \linmap(V,W)$ where $\mynull(T) = \{0\}$.

    \prooffont{Explicit Construction of $T$}:
    Suppose $\dim V \leq \dim W$. Let $v_1, \dots, v_n$ be a basis for $V$ (where $n = \dim V$), and let $w_1, \dots, w_m$ be a basis of $W$ (where $m = \dim W$). Define $T$ by $T(v_i) = w_i$ for $1 \leq i \leq n$. Then $T$ is injective, as $\mynull(T) = \{0\}$.
  \end{xprf}
\end{xrcs}


\begin{xrcs}
  Suppose $V$ and $W$ are both finite-dimensional. Prove that there exists a surjective linear map from $V$ onto $W$ $\iff$ $\dim V \geq \dim W$.

  \begin{xprf}
    \Rightarrowdirection Suppose $\exists T \in \linmap(V,W)$ such that $T$ is surjective. Then $\myrange(T) = W$, so by the rank-nullity theorem:
    \begin{equation}
      \begin{aligned}
        \dim V &=    \dim \myrange(T) + \dim \mynull(T) \\
        &=    \dim W + \dim \mynull(T). \\
        &\geq \dim W.
      \end{aligned}
    \end{equation}

    \Leftarrowdirection Suppose $\dim V \geq \dim W$. For any $T \in \linmap(V,W)$, the rank-nullity theorem implies:
    \begin{equation}
      \dim V = \dim \myrange(T) + \dim \mynull(T).
    \end{equation}
    Since $\dim V \geq \dim W$, we can select $T$ such that $\myrange(T) = W$, ensuring surjectivity.

    \prooffont{Explicit Construction of $T$:} \\
    Suppose $\dim V \geq \dim W$. Let $v_1, \dots, v_n$ be a basis of $V$ (where $n = \dim V$) and let $w_1, \dots, w_m$ be a basis of $W$ (where $m = \dim W$).  Define $T$ on $V$ by setting $T(v_i) = w_i$ for $1 \leq i \leq m$, and $T(v_i) = 0$ for $m+1 \leq i \leq n$. Note that we have $\dim V \geq \dim W$ which is the same as $n \geq m$. So if $n = m$, then we do not set any $T(v_i)$ to be $0$ and $\mynull T = \{0\}$. If $T$ is constructed like this, $T$ is surjective, as $\myrange(T) = W$. To show that, let $w \in W$ such that
    $
    w = a_1 w_1 + \cdots + a_m w_m.
    $
    We see that: $T(a_1 v_1 + \cdots + a_m v_m)= a_1 w_1 + \cdots a_m w_m = w$. Thus, for every $w \in W$, we have found a preimage $v \in V$ such that $T(v) = w$, proving that $T$ is surjective.
  \end{xprf}
\end{xrcs}


\begin{xrcs}
  Suppose $V$ and $W$ are finite-dimensional, and that $U$ is a subspace of $V$. Prove that there exists a $T \in \linmap(V,W)$ such that $\mynull T = U$ $\iff$ $\dim U \geq \dim V - \dim W$.

  \begin{xprf}
    \Rightarrowdirection Suppose $T \in \linmap(V,W)$ satisfies $\mynull T = U$. By the rank-nullity theorem:
    \begin{equation}
      \begin{aligned}
        \dim V &= \dim \myrange(T) + \dim \mynull(T) \\
        &= \dim \myrange(T) + \dim U.
      \end{aligned}
    \end{equation}

    Since $\dim \myrange(T) \leq \dim W$, it follows that:
    \begin{equation}
      \begin{aligned}
        \dim V &\leq \dim W + \dim U \qquad \text{or equivalently,}  \\
        \dim U &\geq \dim V - \dim W.
      \end{aligned}
    \end{equation}

    \Leftarrowdirection Suppose $\dim U \geq \dim V - \dim W$. By the rank-nullity theorem, for any $T \in \linmap(V,W)$:
    \begin{equation}
      \dim V = \dim \myrange(T) + \dim \mynull(T).
    \end{equation}

    Setting $\mynull(T) :\equiv U$, we have
    \begin{equation}
      \dim \myrange(T) = \dim V - \dim U.
    \end{equation}

    Since $\dim V - \dim U \leq \dim W$, it follows that $\myrange(T) \subseteq W$, so $T \in \linmap (V,W)$ exists. Now we want to show how such a $T$ could look like.

    \prooffont{Explicit Construction of $T$:}
    Suppose $\dim U \geq \dim V - \dim W$. Let $u_1, \dots, u_k$ be a basis for $U$ (where $k = \dim U$), and extend it to a basis $u_1, \dots, u_k, v_1, \dots, v_m$ for $V$ (where $m = \dim V - \dim U$). Let $w_1, \dots, w_m$ be a basis for $W$. Define $T \in \linmap(V,W)$ by setting $T(u_i) = 0$ for $1 \leq i \leq k$, and $T(v_i) = w_i$ for $1 \leq i \leq m$. Then $\mynull(T) = U$ and $\myrange(T) = W$.
  \end{xprf}
\end{xrcs}

\begin{xrcs}
  Suppose $W$ is finite-dimensional and $T\in \linmap(V,W)$. Prove that $T$ is injective $\iff$ $\exists S \in \linmap(W,V)$ such that $ST$ is the identity operator on $V$.

  \begin{xprf}
    \Rightarrowdirection Let $T \in \linmap (V,W)$ be injective. Let $v_1, \ddd, v_m$ be a basis of $V$. We know from exercise 10 that $T v_1, \ddd, Tv_m$ spans $\myrange T$. We also know from exercise 9 that $T v_1, \ddd, Tv_m$ is linearly independent in $W$ and thus is a basis of $\myrange T$. Let $n :\equiv \dim W$. This basis can be extended to a basis of
    \begin{equation}
      \label{eq: basis of W}
      T v_1, \ddd, Tv_m, w_{m+1}, \ddd, w_n
    \end{equation}

    of $W$, given $m < n$ ($\dim V < \dim W$). Therefore, every $w \in W$ can be written as follows:
    \begin{equation}
      w = a_1 T v_1 + \cdots + a_m T v_m + a_{m+1} w_{m+1} + \cdots + a_{n} w_n,
    \end{equation}

    for some unique scalars $a_1, \ddd, a_m, a_{m+1}, \ddd, a_n \in \myF$. Given the basis \eqref{eq: basis of W} of $W$, we can define $S \in \linmap (W,V)$ for any $w \in W$, letting
    \begin{equation}
      \begin{aligned}
        S(w) &= \;  S(a_1 T v_1 + \cdots + a_m T v_m + a_{m+1} w_{m+1} + \cdots + a_{n} w_n)
        :\equiv a_1 v_1 + \cdots + a_m v_m
      \end{aligned}
    \end{equation}

    Now it is easy to see that for any $v \in V$:
    \begin{equation}
      \begin{aligned}
        ST(v) &= ST(a_1 v_1 + \cdots + a_m v_m) \\
        &= S(a_1 T v_1 + \cdots + a_m T v_m) \\
        &= a_1 v_1 + \cdots + a_m v_m = v.
      \end{aligned}
    \end{equation}

    Thus, $ST$ is the identity operator on $V$.

    \Leftarrowdirection Let $ST$ be the identity operator on $V$. That means: $\forall v \in V: S(T)(v) = v$. Suppose $u \in V$ satisfies $T(u) = 0$. Then we have $S(T(u)) = S(0) = 0$. Since $ST = I$, it follows that $u = 0$. We conclude that $\mynull T = \{0\}$, hence $T$ is injective.
  \end{xprf}
%  \begin{prf} % ChatGTP corrections
%    \Rightarrowdirection Let $T \in \linmap (V,W)$ be injective. Let $v_1, \ddd, v_m$ be a basis of $V$. From Exercise 10, we know that $T v_1, \ddd, T v_m$ spans $\operatorname{range}(T)$. Moreover, Exercise 9 tells us that $T v_1, \ddd, T v_m$ is linearly independent in $W$ and thus forms a basis of $\operatorname{range}(T)$.
%
%    Let $n \equiv \dim W$. This basis can be extended to a basis of $W$, say $T v_1, \ddd, T v_m, w_{m+1}, \ddd, w_n$, provided that $m < n$ (i.e., $\dim V < \dim W$). Therefore, every $w \in W$ can be uniquely expressed as
%    \begin{equation}
%      w = a_1 T v_1 + \cdots + a_m T v_m + a_{m+1} w_{m+1} + \cdots + a_{n} w_n,
%    \end{equation}
%    for some uniquely determined scalars $a_1, \ddd, a_m, a_{m+1}, \ddd, a_n \in \mathbb{F}$.
%
%    Define $S \in \linmap(W,V)$ by setting
%    \begin{equation}
%      \begin{aligned}
%        S(w) &= S(a_1 T v_1 + \cdots + a_m T v_m + a_{m+1} w_{m+1} + \cdots + a_{n} w_n)  \\
%        &:\equiv a_1 v_1 + \cdots + a_m v_m.
%      \end{aligned}
%    \end{equation}
%
%    Now, for any $v \in V$, we have
%    \begin{equation}
%      \begin{aligned}
%        ST(v) &= S(T(a_1 v_1 + \cdots + a_m v_m)) \\
%        &= S(a_1 T v_1 + \cdots + a_m T v_m) \\
%        &= a_1 v_1 + \cdots + a_m v_m = v.
%      \end{aligned}
%    \end{equation}
%
%    Thus, $ST$ is the identity operator on $V$.
%  \end{prf}
\end{xrcs}

\begin{xrcs}
  Suppose $W$ is finite-dimensional and $T \in \linmap (V,W)$. Prove that $T$ is surjective $\iff$ $\exists S \in \linmap (W,V)$ such that $TS$ is the identity operator on $W$.

  \begin{xprf}
    \Rightarrowdirection Let $T \in \linmap (V,W)$ such that $T$ is surjective. Hence $\myrange T = W$. Let $w_1, \ddd, w_m$ be a basis of $W$ and hence of $\myrange T$ as well. Since $T$ is sujrective, we have $\forall j \in \{1, \ddd, m\}$:
    \begin{equation}
      \exists v_j \in V \text{ such that } w_j = T(v_j).
    \end{equation}

    Based on this list $v_1, \ddd, v_j$ which has no other special properties, we can define $S \in \linmap (W,V)$ for each $w \in W$ as follows:
    \begin{equation}
      S(w) = S(a_1 w_1 + \cdots a_m w_m) :\equiv a_1 v_1 + \cdots + a_n v_n.
    \end{equation}

    Now we have $\forall w \in W$:
    \begin{equation}
      \label{eq: strange way of calculating TS}
      TS(w) = a_1 TS(w_1) + \cdots +a_n TS (w_n) = a_1 w_1 + \cdots + a_n w_n = w,
    \end{equation}

    which makes $TS$ the identity operator on $W$. A different way of calculating $TS$ would be $TS(w) = T(a_1 v_1 + \cdots + a_n v_n) = a_1 T v_1 + \cdots + a_n T v_n = a_1 w_1 + \cdots + a_n w_n = w$. In equation \eqref{eq: strange way of calculating TS} we were using $S(w_j) = v_j$ for $1 \leq j \leq m$.

    \Leftarrowdirection Let $T \in \linmap (V,W)$ and $S \in \linmap(W,V)$ such that $TS$ is the identity operator on $W$. Let $w \in W$ and $v \in V$ such that $v=S(w)$. Now we apply $T$ on both sides and get $T(v) = T(S(w)) = w$. So for any $w \in W$ we found a preimage $v \in V$ such that $T(v) = w$, which makes $T$ surjective.
  \end{xprf}
\end{xrcs}


\begin{xrcs}
  Suppose $V$ is finite-dimensional, $U$ is a subspace  of $V$ and $T \in \linmap (V,W)$. Prove that
  \begin{equation}
    X :\equiv \{v  \in V \mid Tv \in U \}
  \end{equation}

  is a subspace of $V$ and
  \begin{equation}
    \dim X = \dim \{v \in V \mid Tv \in U \} = \dim \mynull T + \dim (U \cap \myrange T).
  \end{equation}

  \begin{xprf}
    Let $v_1, v_2 \in X$. Thus $v_1, v_2 \in V$ as well as $T(v_1 + v_2) = T v_1 + T v_2 \in U$, because $U$ is closed under addition. $\implies v_1 + v_2 \in X$. So $X$ is closed under addition as well. Similarly, $\lambda v_1 \in X$ for $\lambda \in \myF$. So $X$ is closed under scalar multiplication. We also have the additive identity $0 \in X$ because $T0=0\in U$. Therefore, $X$ is a subspace of $V$.

    The formula we need to prove reminds us of the ranke nulllity theorem. We want to show that:
    \begin{equation}
      \label{eq: dim X}
      \begin{aligned}
        \dim X &= \dim \mynull T_X + \dim \myrange T_X \\
        &= \dim \mynull T + \dim (U \cap \myrange T)
      \end{aligned}
    \end{equation}

    The first line of the equation above is just the rank-nullity theorem of the restriction of $T$ on $X$. For the second line in formula \eqref{eq: dim X}, we have $\mynull T_X = \null T$ and
    $\myrange T_X = (U \cap \myrange T)$. Now $X$ is the set of all vectors in $V$ such that $Tv$ is in $U$. Because $0 \in U$, all the vectors $v \in V$ sucht that $Tv=0$ are contained in $X$. In symbols: $\mynull T \subseteq X$. Hence, $\mynull T|_X = \mynull T$.

    Now we want to show that $\myrange T|_X \subseteq (U \cap \myrange T)$ and $(U \cap \myrange T) \subseteq \myrange T|_X$, which implies
    \begin{equation}
      \myrange T|_X = (U \cap \myrange T).
    \end{equation}

    If $u \in (U \cap \myrange T)$, then $\exists v \in V$ such that $u=Tv$ and $u \in U$. So $v \in X$ because $Tv \in U$. Hence $u \in \myrange T|_X$ and
    \begin{equation}
      (U \cap \myrange T) \subseteq \myrange T|_X.
    \end{equation}

    Conversely, let $u \in \myrange T|_X$. According to the definition of $X$, there exists a $w \in V$ such that $Tw \in U$. For this $w$ we have $u = T|_X (w)$. Since $T|_X$ ist just $T$ on a restricted domain $X \subseteq V$, we have $u \in U$ and $u \in \myrange T$, hence $u \in (U \cap \myrange T)$. We conclude:
    \begin{equation}
      \myrange T|_X \subseteq (U \cap \myrange T).
    \end{equation}

    Therefore, $\myrange T|_X = (U \cap \myrange T)$, which validates equation \eqref{eq: dim X}
  \end{xprf}
\end{xrcs}

\exercise{22}
\begin{xrcs}
  \begin{enumerate}
    \item {
    Suppose $U$, $V$ and $W$ are finite-dimensional vector spaces and $S \in \linmap (V,W)$ and $T \in \linmap(U,V)$. Prove that $\dim \mynull ST \leq \dim \mynull S + \dim \mynull T$.

    \begin{xprf}
      Note that $ST \in \linmap(U,W)$ and $\mynull T \subseteq \mynull ST$ (this implies $\dim \mynull T \leq \dim \mynull ST$). According to the rank-nullity theorem, the following two formulas hold:
      \begin{equation}
        \begin{aligned}
          \dim U &= \dim \myrange T\phantom{S} + \dim \mynull T\phantom{S} \\
          \dim U &= \dim \myrange ST + \dim \mynull ST
        \end{aligned}
      \end{equation}

      Equating the two formulas, we obtain:
      \begin{equation}
        \label{eq: dim null ST}
        \dim \mynull ST = \dim \myrange T - \dim \myrange ST + \dim \mynull T
      \end{equation}

      So, what is $\dim \myrange T - \dim \myrange ST$? It equals the dimension of the null space of the restriction map $S|_{\myrange T}$. If we can show that $\dim \myrange T - \dim \myrange ST \leq \dim \mynull S$, the proof is complete. Consider the restriction map
      \begin{equation}
        S|_{\myrange T}: \myrange T \to W.
      \end{equation}

      Notice two things. First, for every $x \in U$ we have $S(T(x)) = (S|_{\myrange T}) (T(x))$; hence,
      \begin{equation}
        \label{eq: myrange S|_T = myrange ST}
        \myrange S|_{\myrange T} = \myrange ST.
      \end{equation}

      Second, $\mynull (S|_{\myrange T}) = \{ y \in \myrange T \mid S(y) = 0 \}$. Clearly, every such $y$ is contained in $\mynull S$, so
      \begin{equation}
        \label{eq: null S|_range T subseteq null S}
        \mynull S|_{\myrange T} \subseteq \mynull S.
      \end{equation}

      Now we can apply the Rank-Nullity Theorem to $S|_{\myrange T}$ and use \eqref{eq: myrange S|_T = myrange ST} and \eqref{eq: null S|_range T subseteq null S} consecutively. Thus,
      \begin{equation}
        \begin{aligned}
          \dim \myrange T & =    \dim \mynull S|_{\myrange T} + \dim \myrange S|_{\myrange T} \\
                          & =    \dim \mynull S|_{\myrange T} + \dim \myrange ST \\
                          & \leq \dim \mynull S + \dim \myrange ST.
        \end{aligned}
      \end{equation}

      Rearranging, we obtain:
      \begin{equation}
        \dim \myrange T - \dim \myrange ST \leq \dim \mynull S.
      \end{equation}

      Therefore, \eqref{eq: dim null ST} becomes
      \begin{equation}
        \dim \mynull ST \leq \dim \mynull S + \dim \mynull T.
      \end{equation}

      Note: If $\dim \myrange T = \dim \myrange ST$, \eqref{eq: dim null ST} becomes $\dim \mynull ST = \dim \mynull T$.
    \end{xprf}
    }
    \item{
      Give an example of $S, T \in \linmap(\myF^5)$ with $ST = 0$ and $\dim \myrange TS = 2$.

      \prooffont{Solution: }
      Let $S, T \in \linmap(\myF^5)$ such that for all $x \in \myF^5$:
      \begin{equation}
        S(x) :\equiv (0,0,0,x_4,x_5) \quad \mytext{and} \quad T(x) :\equiv (x_1 + x_4, x_2 + x_5, 0,0,0)
      \end{equation}

      If we compute $ST$ and $TS$ for $x \in \myF^5$ we get
      \begin{equation}
        \begin{aligned}
          &ST(x) = S((x_1 + x_4, x_2 + x_5, 0,0,0)) = (0,0,0,0,0) = 0 \\
          &TS(x) = T((0,0,0,x_4,x_5)) = (0+x_4, 0+x_5, 0,0,0) = (x_4, x_5, 0,0,0)
        \end{aligned}
      \end{equation}

      Hence, $\dim \myrange TS = 2$.
    }

  \end{enumerate}

\end{xrcs}

\exercise{24}
\begin{xrcs}
  Suppose $\dim V = 5$ and $S, T \in \linmap (V)$ are such that $ST = 0$. Prove that $\dim \myrange TS \leq 2$.

  \begin{xprf}
    According to the rank-nullity theorem, we have
    \begin{equation}
      \begin{aligned}
        5 &= \dim \myrange T + \dim \mynull T. \\
        5 &= \dim \myrange S + \dim \mynull S
      \end{aligned}
    \end{equation}

    From exercise 3B.22, we know
    \begin{equation}
      \begin{aligned}
        \label{eq:  null space of ST}
        \dim \mynull ST & \leq \dim \mynull S + \dim \mynull T, \\
        5 & \leq \dim \mynull S + \dim \mynull T.
      \end{aligned}
    \end{equation}

    From exercise 3B.23, we know
    \begin{equation}
      \begin{aligned}
        \label{eq: dim myrange TS}
        \dim \myrange TS & \leq \min \{ \dim \myrange S, \dim \myrange T\} \\
        & =     \min \{ 5 - \dim \mynull S, 5 - \dim \mynull T \}
      \end{aligned}
    \end{equation}

    Equation \eqref{eq: null space of ST} and the equation \eqref{eq: dim myrange TS} above tell us, that $\myrange TS$ is at its maximum, if either $\dim \mynull S$ or $\dim \mynull T$ is $2$ and the other one is $3$. Hence $\dim \myrange TS = \min \{2,1\} = 2$.
  \end{xprf}
\end{xrcs}

%\begin{xrcs}
%  Suppose $V$ is finite-dimensional, $U$ is a subspace of $V$, and $T \in \linmap (V,W)$. Prove that $X :\equiv {v \in V \mid Tv \in U }$ is a subspace of $V$ and
%  \begin{equation}
%    \dim {v \in V \mid Tv \in U } = \dim \null T + \dim (U \cap \myrange T).
%  \end{equation}
%\end{xrcs}
%
%\begin{prf}
%  Let $v_1, v_2 \in X$. Thus, $v_1, v_2 \in V$ as well as $T(v_1 + v_2) = T v_1 + T v_2 \in U$, because $U$ is closed under addition. This implies $v_1 + v_2 \in X$, so $X$ is closed under addition. Similarly, $\lambda v_1 \in X$ for $\lambda \in \myF$, proving that $X$ is closed under scalar multiplication. The additive identity $0$ is also in $X$ because $T0=0 \in U$. Therefore, $X$ is a subspace of $V$.
%
%  The formula we need to prove resembles the rank-nullity theorem. We aim to show that:
%  \begin{equation}
%    \label{eq: dim X}
%    \begin{aligned}
%      \dim X &= \dim \mynull T|_X + \dim \myrange T|_X \
%      &= \dim \mynull T + \dim (U \cap \myrange T).
%    \end{aligned}
%  \end{equation}
%
%  The first equality follows from the rank-nullity theorem applied to the restriction of $T$ on $X$. Since $0$ is in $U$, the definition of $X$ implies that $\mynull T|_X = \mynull T$, which is used in equation \eqref{eq: dim X}.
%
%  Next, we establish that $\myrange T|_X = U \cap \myrange T$ by proving both inclusions:
%
%  \textbf{(1) $\myrange T|_X \subseteq U \cap \myrange T$}:
%
%  If $u \in \myrange T|_X$, then there exists some $w \in X$ such that $T|_X(w) = u$. Since $T|_X$ is just $T$ restricted to $X$, we have $T(w) = u$. By the definition of $X$, $T(w) \in U$, meaning $u \in U$. Also, since $T(w) = u$ and $T(w)$ is in the range of $T$, it follows that $u \in \myrange T$. Thus, $u \in U \cap \myrange T$, proving $\myrange T|_X \subseteq U \cap \myrange T$.
%
%  \textbf{(2) $U \cap \myrange T \subseteq \myrange T|_X$}:
%
%  If $u \in U \cap \myrange T$, then $u = Tv$ for some $v \in V$ and $u \in U$. By definition of $X$, this implies $v \in X$, meaning $u \in \myrange T|_X$. Thus, $U \cap \myrange T \subseteq \myrange T|_X$.
%
%  Since both inclusions hold, we conclude that:
%  \begin{equation}
%    \myrange T|_X = U \cap \myrange T.
%  \end{equation}
%
%  This validates equation \eqref{eq: dim X}, completing the proof.
%\end{prf}

\exercise{25}
\begin{xrcs}
  Suppose $W$ is finite-dimensional and $S, T \in \linmap (V,W)$. Prove that $\mynull S \subseteq \mynull T$ $\iff$ there exists a $E \in \linmap (W)$ such that $T=ES$.

  \begin{xprf}
    \Rightarrowdirection Let $S, T \in \linmap (V,W)$ such that $\mynull S \subseteq \mynull T$. (i.e. $\dim \mynull S \leq \dim \mynull T$). Let $U$ be a subspace of $V$ such that $V = \mynull S \oplus U$. This implies that
    \begin{equation}
      S|_U : U \to \myrange S
    \end{equation}

   is injective, because $\mynull S|_U = \{0\}$. Using the rank nullity-theorem and the fact that $\dim \mynull S|_U =0$, we can conclude that:
   \begin{equation}
     \dim U = \dim \myrange S|_U = \dim \myrange S.
   \end{equation}

   The equation above also made use of the fact that $\myrange S|_U = \myrange S$. This is because any vector $v \in V$ can be written as $v = r + u$, where $r \in \mynull S$ and $u \in U$. For this $v$ we have:
   \begin{equation}
     S(v) = S(r) + S(u) = S(u) = S|_U(u) = S|_U(r) + S|_U(u)= S|_U(v).
   \end{equation}

   Thus, $S$ and $S|_U$ have the same range, $\myrange S|_U = \myrange S$.

   Now if $u_1, \ddd, u_n$ is a basis of $U$, then $S u_1, \ddd, S u_n$ is a basis of $\myrange S \subseteq W$. Therefore, we can extend $S u_1, \ddd, S u_n$ to a basis
   \begin{equation}
     S u_1, \ddd, S u_n, w_{n+1}, \ddd, w_{m}
   \end{equation}

   of $W$. Note that the extension might be empty and no $w$'s are added. If $n = m$ the basis of $W$ just consists of $S u_1, \ddd, S u_n$ and $\myrange S = W$. So we have $n \leq m$ for $n = \dim \myspan S$ and $m = \dim W$.

   Now we define $E: W \to W$ for $w \in W$, letting
   \begin{equation}
     E(w) = E(a_1 Su_1 + \cdots + a_n Su_n + a_{n+1} w_{n+1} + \cdots + a_m w_m) :\equiv a_1 T u _1 + \cdots + a_n T u_n.
   \end{equation}

   If we decompose $v \in V = \mynull S \oplus U$ again as $v = r + u$ where  $r \in \mynull S$ and $u \in U$, then
   \begin{equation}
     ES ( v ) = ES ( r + u) = ES( u) = E (a_1 S u_1 + \cdots + a_n S u_n) = a_1 T u_1 + \cdots + a_n T u_n.
   \end{equation}

   Since $\mynull S \subseteq \mynull T$, and we take the same $v=r+u$, we have $T(r)=0$. Hence:
   \begin{equation}
     T(v) = T(r) + T(u) = T(u) = a_1 T u_1 + \cdots + a_n T u_n.
   \end{equation}

   Thus we conclude: $ES=T$.

   \Leftarrowdirection Assume $W$ is finite-dimensional and we have $S,T \in \linmap(V,W)$ and $E \in \linmap (W)$ such that $T=ES$. Now assume that $\mynull S$ is not a subset of $\mynull T$. Then there exists a $v \in V$ such that $S(v) = 0$ but $T(v) \neq 0$. Because of \ref{thm: linear maps take 0 to 0} it must be that $E(0) = 0$, and thus $ES(v) = 0$. But we assumed that $T=ES$. Now we have $ES \neq T$ (because $T(v)\neq 0$). The assumption that $\mynull S$ is not a subset of $\mynull T$ has lead to a contradiction. Therefore, $\mynull S \subseteq \mynull T$, as desired.
  \end{xprf}
\end{xrcs}

%\begin{xrcs}
%  Suppose that $V$ is finite-dimensional and $S, T \in \linmap (V,W)$. Prove that $\myrange S \subseteq \myrange T$ $\iff$ there exists $E \in \linmap(V)$ such that $S=TE$.
%
%  \begin{prf}
%    \Rightarrowdirection Suppose $V$ is finite dimensional. Suppose $S, T \in \linmap (V,W)$ such that $\myrange S \subseteq \myrange T$. Note that this implies
%    \begin{equation}
%      \label{eq: null T subseteq null S}
%      \mynull T \subseteq \mynull S.
%    \end{equation}
%
%    Let $U \subseteq V$ such that $V = \mynull S \oplus U$. Observe that
%    \begin{equation}
%      \forall u \in U: S(u) \in \myrange T.
%    \end{equation}
%
%    This means that $\forall u \in U$ we have a $v$ in $V$ such that $S(u) = T(v)$. Now we decompose $v$ like this: $v=r+u'$ where $r \in \null S$ and $u' \in U$. The linearity of of $T$ yields that $T(v) = T(r+u') = T(r) + T(u') = T(u')$. Therefore,
%    \begin{equation}
%      S(u) = T(u'), \mytext{where } u, u' \in U
%    \end{equation}
%
%    But $S(u') = S(u)$ only if $u' = u$.
%
%    This means that $S|_U$ and $T|_U$ are identical and both are injective since $\mynull S|_U  = \mynull T|_U = \{0\}$. \textbf{Todo: better :)}
%
%    Let $u_1, \ddd, u_n$ be a basis of $U$. This means that $S u_1, \ddd, S u_n$ and $T u_1, \ddd, S u_n$ both are a basis of $\myrange S = \myrange S|_U = \myrange T|_U$. This will be used later in the construction of $E$.
%
%    If $u_1, \ddd, u_n$ is a basis of $U$, it can be extended to a basis $u_1, \ddd, u_n, r_{n+1}, \ddd, r_m$ of $V$. Note that this extension can be empty if $U = V$ and $\mynull S = \{0\}$.  This makes $r_{n+1}, \ddd, r_m$ a basis of $\mynull S$. Therefore we have $n \leq m$ for $m = \dim V$.
%
%    Now we define $E: V \to V$ for $v \in V$ by letting
%    \begin{equation}
%      E(v) = E(a_1 u_1 + \cdots + a_n u_n + a_{n+1} r_{n+1} + \cdots + a_m r_m) :\equiv a_1 u_1 + \cdots + a_n u_n, \mytext{where} a_1, \ddd, a_m \in \myF.
%    \end{equation}
%
%    %for every $v \in V$ sucht that $v= a_1 u_1 + \cdots + a_n u_n + a_{n+1} r_{n+1} + \cdots + a_m r_m$, where the $a$'s are scalars.
%
%    Now let $w \in V$ such that $w = r + u$, where $r \in \mynull S$ and $u \in U$. We compute:
%    \begin{equation}
%      \begin{aligned}
%        TE(w) &= TE(r+u)= TE(r) + TE(u) = TE(u) \\
%              &= T(a_1u_n + \cdots + a_n u_n) \\
%              &= a_1 T u_1 + \cdots + a_n T u_n.
%      \end{aligned}
%    \end{equation}
%
%    For the same $w$ we compute:
%    \begin{equation}
%      S(w) = S(r+u) = S(u) = a_1 S u_1 + \cdots + a_n S u_n.
%    \end{equation}
%
%    Earlier we claimed that $S|_U$ and $T|_U$ are identical. Hence,
%    \begin{equation}
%      a_1 T u_1 + \cdots + a_n T u_n = a_1 S u_1 + \cdots + a_n S u_n.
%    \end{equation}
%
%    Therefore, $S=TE$.
%
%    \Leftarrowdirection This direction of the proof is left to the reader as an exercise.
%  \end{prf}
%
%\end{xrcs}

\begin{xrcs}
  Suppose that $V$ is finite-dimensional and $S, T \in \linmap (V,W)$. Prove that $\myrange S \subseteq \myrange T$ $\iff$ there exists $E \in \linmap(V)$ such that $S=TE$.

  \begin{xprf}
    \Rightarrowdirection Let $V$ be finite-dimensional and $S,T \in \linmap (V,W)$ such that $\myrange S \subseteq \myrange T$. Let $Q$ be a subspace of $V$ such that $V = \mynull S \oplus Q$. Let $q_1, \ddd, q_m$ be a basis of $Q$. We can extend this list to a basis
    \begin{equation}
      q_1, \ddd, q_m, r_{m+1}, \ddd, r_n
    \end{equation}

    of $V$ with $\dim V = n$. Note that $r_{m+1}, \ddd, r_n$ is a basis of the null space of $S$, i.e $\mynull S$. The restriction $S|_Q$ is injective because $\mynull S|_Q = \{0\}$. This makes
    \begin{equation}
      S q_1, \ddd, S q_m
    \end{equation}

    a basis of the range of $S$, i.e $\myrange S$.
    From $\myrange S \subseteq \myrange T$, it follows that $\forall j \in \{1, \ddd, m\}$:
    \begin{equation}
      \exists u_j \in V \mytext{such that} T(u_j) = S (q_j).
    \end{equation}

    So we have a list of distinct preimage vectors $u_1, \ddd, u_m$. The linear map lemma \ref{thm: linear map lemma} tells us, we can construct $E: V \to V$ as follows:
    \begin{equation}
      \label{eq: definition of E}
      \begin{aligned}
        E(q_k) &= u_k \quad \forall k \in \{1, \ddd, m\} \\
        E(r_k) &= 0 \quad \forall k \in \{m+1, \ddd, n\}
      \end{aligned}
    \end{equation}

    This lemma guarantees the existence (and uniqueness) of a linear map on $V$ that sends the basis vectors $q$'s and $r$'s to the specified vectors $u$'s and $0$'s respectively.
    This ensures $E$ is well defined.
    For a $v \in V$, given as $v= (c_1 q_1 + \cdots c_m q_m) + (c_{m+1} r_{m+1} + \cdots + c_n r_n)$ with its coordinates and its basis, the linear map $E$ looks like this:
    \begin{equation}
      E(v) :\equiv c_1 u_1 + \cdots + c_m u_m
    \end{equation}

    One can verify that this coincides with the definition \eqref{eq: definition of E} above, using the fact that $E$ is linear.

    Now what does $TE$ look like? It computes as follows:
    \begin{equation}
      \begin{aligned}
        T(E(v)) &= TE\Big((c_1 q_1 + \cdots + c_m q_m) + (c_{m+1} r_{m+1} + \cdots + c_n r_n)\Big) \\
        &= T(c_1 u_1 + \cdots + c_m u_m) = c_1 T (u_1) + \cdots + c_m T (u_m) \\
        &= c_1 S (q_1) + \cdots + c_m S (q_m).
      \end{aligned}
    \end{equation}

    Compare this with $S$:
    \begin{equation}
      \begin{aligned}
        S(v) &= S\Big((c_1 q_1 + \cdots + c_m q_m) + (c_{m+1} r_{m+1} + \cdots + c_n r_n)\Big)
        = S(c_1 q_1 + \cdots + c_m q_m) \\
        &= c_1 S (q_1) + \cdots + c_m S (q_m).
      \end{aligned}
    \end{equation}

    Therefore, $S = TE$.

    \Leftarrowdirection Suppose there exists $E \in \linmap (V)$ such that $S=TE$. Then for any $v \in V$, $S(v) = T(E(v))$ implies that $S(v) \in \myrange T$. Hence, $\myrange S \subseteq \myrange T$.
  \end{xprf}
\end{xrcs}



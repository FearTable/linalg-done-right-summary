\subsection*{Exercises about Dimension 2C}

\setcounter{xrcscount}{19}
\begin{xrcs}
  Explain why you might guess, motivated by analogy with the formula for the number of elements in the union of three finite sets, that if $V_1$, $V_2$, $V_3$ are subspaces of a finite-dimensional vector space $V$, then
  \begin{equation}
      \begin{aligned}
      \dim (V_1 + V_2 + V_3) &= \dim (V_1) + \dim (V_2) + \dim (V_3) \\
      & \quad - \dim(V_1 \cap V_2) - \dim (V_1 \cap V_3) - \dim (V_2 \cap V_3) \\
      & \quad + \dim (V_1 \cap V_2 \cap V_3).
    \end{aligned}
  \end{equation}


  Then either prove the formula above or give a counterexample.

  \prooffont{Solution:}

  The formula is \textbf{wrong}. Consider the following subspaces of $\real^2$:
  \begin{itemize}
    \item $V_1 := \{ (x,0) \mid x \in \real \} $ \quad (the $x$-axis) \\
    \item $V_2 := \{ (x,x) \mid x \in \real \} $ \quad (the line $y=x$)
    \item $V_3 := \{ (0,y) \mid y \in \real \} $ \quad (the $y$-axis)
  \end{itemize}

  The right-hand side of the formula gives: $1+1+1-0-0-0+0 = 3$, whereas the left-hand side is $\dim (V_1 + V_2 + V_3) = 2$.

  So the formula does not hold for this example.

  It does, however, hold in every case where one of the subspaces is contained in another; hence, without loss of generality, assume that $V_1 \subseteq V_3$. For this situation, we have the following lemma.

  \prooffont{Lemma:} If $V_1, V_2, V_3$ are finite-dimensional subspaces of a vector space, and $V_1 \subseteq V_3$, then
  \begin{equation}
    \label{eq: lemma}
     (V_1 + V_2) \cap V_3 = (V_1 \cap V_3) + (V_2 \cap V_3)
  \end{equation}

  \begin{xprf}
    If $v \in (V_1 \cap V_3) + (V_2 \cap V_3)$, then we can write $v = u + w$, where $u \in V_1\cap V_3$ and  $w \in V_2 \cap V_3$.
    Because $V_3$ is closed under addition and both $u$ and $w$ are in $V_3$, so is $v$. Hence, $v \in V_3$ and $v=u+w$, such that $u \in V_1$ and $w \in V_2$. Therefore, $v \in (V_1 + V_2) \cap V_3$. We conclude:
    \begin{equation}
      \label{eq: first inclusion}
      (V_1 \cap V_3) + (V_2 \cap V_3) \subseteq (V_1 + V_2) \cap V_3
    \end{equation}

    Conversely, if $v \in (V_1 + V_2) \cap V_3$, then we can write $v = u + w$, where $u \in V_1$, $w \in V_2$, and $v \in V_3$. Since $V_1 \subseteq V_3$ (by our assumption), we can rewrite
    \begin{equation}
      w = \underbrace{v}_{\in \; V_3}-\underbrace{u}_{\in \; V_3}.
    \end{equation}

    Since both $u$ and $v$ belong to $V_3$, so does $w$. Therefore, $v=u+w$ such that $u \in V_1 \cap V_3$ and $w \in V_2 \cap V_3$. Hence, $v \in (V_1 \cap V_3) + (V_2 \cap V_3)$. We conclude:
    \begin{equation}
      \label{eq: second inclusion}
      (V_1 + V_2) \cap V_3 \subseteq (V_1 \cap V_3) + (V_2 \cap V_3)
    \end{equation}

    Inclusion \eqref{eq: first inclusion} and \eqref{eq: second inclusion} together yield
    \begin{equation}
      (V_1 + V_2) \cap V_3 = (V_1 \cap V_3) + (V_2 \cap V_3)
    \end{equation}

    for $V_1 \subseteq V_3$.
  \end{xprf}


  Using the standard dimension formula  for the sum of two subspaces \eqref{thm: dimension of a sum of subspaces}, we obtain
  \begin{equation}
    \label{eq: first forumla}
    \begin{aligned}
      \dim (V_1 + V_2 + V_3) &= \dim ((V_1+V_2) + V_3) \\
        &= \dim (V_1 + V_2) + \dim (V_3) - \dim((V_1 +V_2) \cap V_3) \\
        &= \dim (V_1) + \dim (V_2) + \dim (V_3) - \dim (V_1 \cap V_2) - \dim ((V_1 + V_2) \cap V_3)
    \end{aligned}
  \end{equation}

  Using the assumption that $V_1 \subseteq V_3$, we calculate:
  \begin{equation}
    \begin{aligned}
      \dim ((V_1 + V_2) \cap V_3)
      &= \dim ((V_1 \cap V_3) + (V_2 \cap V_3)) \\
      &= \dim (V_1 \cap V_3) + \dim (V_2 \cap V_3) - \underbrace{\dim ((V_1 \cap V_3) \cap (V_2\cap V_3))}_{= \; \dim ((V_1 \cap V_2 \cap V_3))}
    \end{aligned}
  \end{equation}

  If we plug in this result in the first formula \eqref{eq: first forumla}, we have
  \begin{equation}
    \begin{aligned}
      \dim (V_1 + V_2 + V_3)
      &= \dim (V_1) + \dim (V_2) + \dim (V_3) - \dim (V_1 \cap V_2) - \dim ((V_1 + V_2) \cap V_3) \\
      &= \dim (V_1) + \dim (V_2) + \dim (V_3) - \dim (V_1 \cap V_2) \\
      &\quad - \big(\dim (V_1 \cap V_3) + \dim (V_2 \cap V_3) - \dim ((V_1 \cap V_2 \cap V_3)) \big) \\
      &= \dim (V_1) + \dim (V_2) + \dim (V_3) \\
      & \quad - \dim(V_1 \cap V_2) - \dim (V_1 \cap V_3) - \dim (V_2 \cap V_3) \\
      & \quad + \dim (V_1 \cap V_2 \cap V_3).
    \end{aligned}
  \end{equation}

  So, under certain conditions (i.e. $V_1 \subseteq V_3$), the formula is \textbf{true}.
\end{xrcs}

\begin{xrcs}
  Show that for a finite-dimensional vector space $V$ with subspaces $V_1$, $V_2$, $V_3$ the following formula holds:
  \begin{equation}
    \begin{aligned}
      \dim (V_1 + V_2 + V_3)  &= \dim (V_1) + \dim (V_2) + \dim (V_3) \\
      & \qquad - \frac{\dim (V_1 \cap V_2) + \dim (V_1 \cap V_3) + \dim (V_2 \cap V_3)}{3} \\
      & \qquad - \frac{ \dim \left(  (V_1 + V_2) \cap V_3 \right) + \dim \left( (V_1 + V_3) \cap V_2 \right)+ \dim \left( (V_2 + V_3) \cap V_1 \right) }{3} \\
    \end{aligned}
  \end{equation}

  \prooffont{Solution:} Recall that for any two subspaces $U$ and $W$ of a finite-dimensional vector space we have
  \begin{equation}
    \dim (U + W)  = \dim U + \dim W - \dim (U \cap W).
  \end{equation}

  So we can use associativity and commutativity of the sum $V_1 + V_2 + V_3$. In particular:
  \begin{equation}
    \begin{aligned}
      V_1 + V_2 + V_3 & = (V_1 + V_2) + V_3 \\
                      & = V_1 + (V_2 + V_3) \\
                      & = (V_1 + V_3) + V_2
    \end{aligned}
  \end{equation}

  \begin{equation}
    \begin{aligned}
      \dim((V_1 + V_2) + V_3)
      & = \dim(V_1 + V_2) + \dim(V_3) - \dim ((V_1 + V_2) \cap V_3) \\
      & = \dim V_1 + \dim V_2 + \dim V_3 - \dim(V_1 \cap V_2) - \dim ((V_1 + V_2) \cap V_3) \\
      \dim(V_1 + (V_2 + V_3))
      & = \dim(V_2 + V_3) + \dim(V_1) - \dim ((V_2 + V_3) \cap V_1) \\
      & = \dim V_1 + \dim V_2 + \dim V_3 - \dim(V_2 \cap V_3) - \dim ((V_2 + V_3) \cap V_1) \\
      \dim((V_1 + V_3) + V_2)
      & = \dim(V_1 + V_3) + \dim(V_2) - \dim ((V_1 + V_3) \cap V_2) \\
      & = \dim V_1 + \dim V_2 + \dim V_3 - \dim(V_1 \cap V_3) - \dim ((V_1 + V_3) \cap V_2) \\
    \end{aligned}
  \end{equation}

  Therefore, adding the three identities yields
  \begin{equation}
    \begin{aligned}
      3 \dim (V_1 + V_2 + V_3) &=
      \dim V_1 + \dim V_2 + \dim V_3 - \dim(V_1 \cap V_2) - \dim ((V_1 + V_2) \cap V_3) \\
      & \quad + \dim V_1 + \dim V_2 + \dim V_3 - \dim(V_2 \cap V_3) - \dim ((V_2 + V_3) \cap V_1) \\
      & \quad + \dim V_1 + \dim V_2 + \dim V_3 - \dim(V_1 \cap V_3) - \dim ((V_1 + V_3) \cap V_2) \\
      & = 3 \dim V_1 + 3 \dim V_2 + 3 \dim V_3 \\
      & \quad - \dim(V_1 \cap V_2) - \dim(V_2 \cap V_3) - \dim(V_1 \cap V_3) \\
      & \quad - \dim ((V_2 + V_3) \cap V_1) - \dim ((V_1 + V_3) \cap V_2) - \dim ((V_2 + V_3) \cap V_1)
    \end{aligned}
  \end{equation}

  Dividing both sides by $3$ gives the formula in question.

  Let $r_1, \ddd, r_{n_{123}} \in V$ be a basis of $V_1 \cap V_2 \cap V_3$, where $n_{123} \in \nat_{\geq 0}$, meaning that the basis can also be the empty list and $V_1 \cap V_2 \cap V_3$ might be equal to $\{\vec 0\}$. Note that the empty list is defined to be linearly independent and that its span is defined to be $\{\vec 0\}$. By this definition, we have
  \begin{equation}
    \label{eq: dim for V_1 cap V_2 cap V_3}
    \dim (V_1 \cap V_2 \cap V_3) = n_{123}.
  \end{equation}

  Since $r_1, \ddd, r_{n_{123}}$ is a linearly independent list in $V$ (as well as in $V_1 \cap V_2$, $V_1 \cap V_3$, and $V_2 \cap V_3$), this list can be extended to a basis of $V_1 \cap V_2$, a basis of $V_1 \cap V_2$, and a basis $V_2 \cap V_3$ respectively. So let
  \begin{itemize}
    \item $r_1, \ddd, r_{n_{123}}, v_1, \ddd, v_{m_{12}}$ be a basis of $V_1 \cap V_2$,
    \item $r_1, \ddd, r_{n_{123}}, \widetilde{v}_1, \ddd, \widetilde{v}_{m_{13}}$ be a basis of $V_1 \cap V_3$ and
    \item $r_1, \ddd, r_{n_{123}}, \overline{v}_1, \ddd, \overline{v}_{m_{23}}$ be a basis of $V_2 \cap V_3$ for some $m_{12}, m_{13}, m_{23} \in \nat_{\geq 0}$.
  \end{itemize}

  Thus, we have
  \begin{equation}
    \label{eq: dim for V_1 cap V_2, V_1 cap V_3, V_2 cap V_3}
    \dim (V_1 \cap V_2) = n_{123} + m_{12}, \; \dim (V_1 \cap V_3) = n_{123} + m_{13}, \myand \dim (V_2 \cap V_3) = n_{123} + m_{23}.
  \end{equation}

  Note that the extensions might be empty, and $m_{12}, m_{13}, m_{23} \in \nat_{\geq 0}$, meaning $V_1 \cap V_2$, $V_1 \cap V_3$ and $V_2 \cap V_3$ could be $V_1 \cap V_2 \cap V_3$. This further implies that
  \begin{itemize}
    \item $v_1, \ddd, v_{m_{12}}$ is a basis of $(V_1 \cap V_2) \backslash (V_1 \cap V_2 \cap V_3)$,
    \item $\widetilde{v}_1, \ddd, \widetilde{v}_{m_{13}}$ is a basis of $(V_1 \cap V_3) \backslash (V_1 \cap V_2 \cap V_3)$, and
    \item $\overline{v}_1, \ddd, \overline{v}_{m_{23}}$ is a basis of $(V_2 \cap V_3) \backslash (V_1 \cap V_2 \cap V_3)$.
  \end{itemize}
  Let us do a simple check. Suppose $V_1 \cap V_2 =  V_1 \cap V_2 \cap V_3$. This would mean that
  $(V_1 \cap V_2) \backslash (V_1 \cap V_2 \cap V_3) = \{ \vec 0 \}$, so $m_{12} = 0$. The empty list is a basis of $\{ \vec 0 \}$, so everything is fine. Note that there is a small difference compared to set notation here. If we write $U \backslash W$ for two vector spaces $U$ and $W$, we mean the subspace of $U$ that is linearly independent of $W$. So if we have $W \backslash W$, the only subspace of $W$ that is linearly independent of all vectors in $W$ is $\{ \vec 0 \}$. In set notation we would have $W \backslash W = \varnothing$.


  Later on we will use the fact that
  \begin{equation}
    \label{eq: fact for dim}
    \dim (V_1 \cap V_2) + \dim (V_1 \cap V_3) + \dim (V_2 \cap V_3) = 3\cdot n_{123} + 2\cdot (m_{12} + m_{13} + m_{23}).
  \end{equation}

  Basis of $V_1 + V_2$ looks like this (might need a simmilar or even identical proof like the one in the book from yeasterday):
  \[ r_1, \ddd, r_{n_{123}}, v_1, \ddd, v_{m_{12}}, \widetilde{v}_1, \ddd, \widetilde{v}_{m_{13}}, u_1, \ddd, u_j, \overline{v}_1, \ddd, \overline{v}_{m_{23}}, w_1, \ddd, w_{m_{23}}
  \]


  So let us further extend
  \begin{itemize}
    \item $r_1, \ddd, r_{n_{123}}, v_1, \ddd, v_{m_{12}}, \widetilde{v}_1, \ddd, \widetilde{v}_{m_{13}}, u_1, \ddd, u_j$ to a basis of $V_1$,
    \item $r_1, \ddd, r_{n_{123}}, v_1, \ddd, v_{m_{12}}, \overline{v}_1, \ddd, \overline{v}_{m_{23}}, w_1, \ddd, w_k$ to a basis of $V_2$ and
    \item $r_1, \ddd, r_{n_{123}}, \widetilde{v}_1, \ddd, \widetilde{v}_{m_{13}}, \overline{v}_1, \ddd, \overline{v}_{m_{23}}, z_1, \ddd, z_l$ to a basis of $V_3$ for $j,k,l \in \nat_{\geq 0}$.
  \end{itemize}

  Again there could be no $u$'s, $w$'s or $z$'s to be added. This will yield
  \begin{itemize}
    \item $\dim (V_1) = n_{123} + m_{12} + m_{13} + j$,
    \item $\dim (V_2) = n_{123} + m_{12} + m_{23} + k$, and
    \item $\dim (V_3) = n_{123} + m_{13} + m_{23} + l$.
  \end{itemize}

  Adding this equations together we will  get
  \begin{equation}
    \label{eq: dim V_1 + dim V_2 + dim V_3}
      \dim (V_1)+ \dim (V_2) + \dim (V_3) = \Big(3 \cdot n_{123} + 2 \cdot (m_{12}+m_{13}+m_{23})+j+k+l \Big)
  \end{equation}

  Before we can proceed we need to justify that
  \begin{itemize}
    \item $r_1,  \ddd r_{n_{123}} ,  \widetilde{v}_1, \ddd, \widetilde{v}_{m_{13}}, \overline{v}_1, \ddd, \overline{v}_{m_{23}}$ is a basis of $(V_1+V_2) \cap V_3$, hence $\dim ((V_1+V_2) \cap V_3) = n_{123} + m_{13}+m_{23}$.
    \item $r_1, \ddd, r_{n_{123}}, v_1, \ddd, v_{m_{12}}, \overline{v}_1, \ddd, \overline{v}_{m_{23}}$ is a basis of $(V_1+V_3) \cap V_2$, hence $\dim ((V_1+V_3) \cap V_2) = n_{123} + m_{12}+m_{23}$.
    \item $r_1, \ddd, r_{n_{123}}, v_1, \ddd, v_{m_{12}}, \widetilde{v}_1, \ddd, \widetilde{v}_{m_{13}}$ is a basis of $(V_2+V_3) \cap V_1$, hence $\dim ((V_2+V_3) \cap V_1) = n_{123} + m_{12}+m_{13}$.
  \end{itemize}

  So we need to show that $r_1,  \ddd r_{n_{123}} ,  \widetilde{v}_1, \ddd, \widetilde{v}_{m_{13}}, \overline{v}_1, \ddd, \overline{v}_{m_{23}}$ is a basis of $(V_1+V_2) \cap V_3$. We will not proof the other two cases for $(V_1+V_3) \cap V_2$ and $(V_2 + V_3) \cap V_1$ because they are completely analoguous. Looking at the basis of $V_1$ and $V_2$, it is easy to see that every vector of the list
  \begin{equation}
    r_1, \ddd, r_{n_{123}}, v_1, \ddd, v_{m_{12}}, \widetilde{v}_1, \ddd, \widetilde{v}_{m_{13}}, u_1, \ddd, u_j, \overline{v}_1, \ddd, \overline{v}_{m_{23}}, w_1, \ddd, w_{m_{23}}
  \end{equation}

  is in $V_1 + V_2$. It is also easy to see that this list spans $V_1 + V_2$. But we are not going to prove that this list above is linearly independent and therefore a basis of $V_1+V_2$. Looking at the basis of $V_3$, it is easy to see that for $u \in (V_1 + V_2) \cap V_3$ we can write $u$ as
  \begin{equation}
    u = (\alpha'_1 r_1+ \cdots+ \alpha'_{n_{123}} r_{n_{123}})
    + (\beta'_1 \widetilde{v}_1+ \cdots+ \beta'_{m_{13}} \widetilde{v}_{m_{13}})
    + (\gamma'_1 \overline{v}_1+ \cdots+ \gamma'_{m_{21}} \overline{v}_{m_{23}})
    + (\delta'_1 z_1+\cdots+ \delta'_l z_l)
  \end{equation}

  Back to our main proof: If we can show that
  \begin{equation}
    \label{eq: basis of V_1 + V_2 + V_3}
    r_1, \ddd, r_{n_{123}}, v_1, \ddd, v_{m_{12}}, \widetilde{v}_1, \ddd, \widetilde{v}_{m_{13}}, \overline{v}_1, \ddd, \overline{v}_{m_{23}}, u_1, \ddd, u_j, w_1, \ddd, w_k, z_1, \ddd, z_l
  \end{equation}

  is a basis of $V_1 + V_2 + V_3$, then we are done. Because this shows that
  \begin{equation}
    \dim (V_1 + V_2 + V_3) = n_{123} + m_{12} + m_{13} + m_{23} + j + k + l
  \end{equation}

  Using \eqref{eq: dim V_1 + dim V_2 + dim V_3}, \eqref{eq: fact for dim}, \eqref{eq: dim for V_1 cap V_2, V_1 cap V_3, V_2 cap V_3}, and the results for $\dim ((V_1+V_2) \cap V_3)$, $\dim ((V_1+V_3) \cap V_2)$ and $\dim ((V_2+V_3) \cap V_1)$, we will get
  %\[
  %\begin{aligned}
  %  \dim (V_1 + V_2 + V_3) & = n_{123} + m_{12} + m_{13} + m_{23} + j + k + l \\
  %  & = \Big(3n_{123} + 2(m_{12}+m_{13}+m_{23})+j+k+l \Big) \\
  %  & \quad - \Big(3n_{123}+(m_{12}+m_{13}+m_{23}) \Big) \\
  %  & \quad + \Big(n_{123}\Big) \\
  %  & = \dim (V_1) + \dim (V_2) + \dim (V_3) \\
  %  & \quad - \dim(V_1 \cap V_2) - \dim (V_1 \cap V_3) - \dim (V_2 \cap V_3) \\
  %  & \quad + \dim (V_1 \cap V_2 \cap V_3).
  %\end{aligned}
  %\]
  \[
  \begin{aligned}
    \dim (V_1 + V_2 + V_3) & = n_{123} + m_{12} + m_{13} + m_{23} + j + k + l \\
    & = \left(3 \cdot n_{123} + 2 \cdot (m_{12}+m_{13}+m_{23})+j+k+l \right) \\
    & \qquad - \left(n_{123} + \sfrac{1}{3} \cdot m_{12} + \sfrac{1}{3} \cdot m_{23} + \sfrac{1}{3} \cdot m_{13} \right) \\
    & \qquad - \left(n_{123}+\sfrac{2}{3} \cdot m_{12} + \sfrac{2}{3} \cdot m_{23} + \sfrac{2}{3} \cdot m_{13} \right) \\
    & = \Big(3 \cdot n_{123} + 2 \cdot (m_{12}+m_{13}+m_{23})+j+k+l \Big) \\
    & \qquad - \frac{3 \cdot n_{123}+(m_{12}+m_{13}+m_{23}) }{3} \\
    & \qquad - \frac{(n_{123} + m_{13} + m_{23})+(n_{123} + m_{12} + m_{23})+(n_{123} + m_{12} + m_{13})}{3} \\
    & = \dim (V_1) + \dim (V_2) + \dim (V_3) \\
    & \qquad - \frac{\dim (V_1 \cap V_2) + \dim (V_1 \cap V_3) + \dim (V_2 \cap V_3)}{3} \\
    & \qquad - \frac{ \dim \left(  (V_1 + V_2) \cap V_3 \right) + \dim \left( (V_1 + V_3) \cap V_2 \right)+ \dim \left( (V_2 + V_3) \cap V_1 \right) }{3} \\
  \end{aligned}
  \]

  Now we want to show that \eqref{eq: basis of V_1 + V_2 + V_3} is a basis of $V_1 + V_2 + V_3$. Looking at all the  vectors in the bases for $V_1$, $V_2$, and $V_3$, it is clear that every vector in the list \eqref{eq: basis of V_1 + V_2 + V_3} is contained in $V_1 + V_2 + V_3$. It is also obvious that the span of \eqref{eq: basis of V_1 + V_2 + V_3} is equal to $V_1 + V_2 + V_3$.
  So all that is left to prove is that \eqref{eq: basis of V_1 + V_2 + V_3} is linearly independent. Now let all $a$'s, $b$'s, $c$'s, $d$'s, $e$'s, $f$'s and $g$'s be an element of $\myF$ such that
  \begin{equation}
    \label{eq: linear independence formula}
    \begin{aligned}
    0 = \underbrace{a_1r_1 + \cdots + a_{n_{123}} r_{n_{123}}}_{\substack{\in \; V_1 \cap V_2 \cap V_3 \\ (\text{common intersection})}}
    + \underbrace{b_1v_1 + \cdots + b_{m_{12}} v_{m_{12}}}_{
        \substack{\in \; (V_1 \cap V_2) \backslash (V_1 \cap V_2 \cap V_3) \\ (\text{extension for } V_1 \cap V_2)}}
    + \underbrace{c_1\widetilde{v}_1 + \cdots + c_{m_{13}}\widetilde{v}_{m_{13}}}_{
        \substack{\in \; (V_1 \cap V_3) \backslash (V_1 \cap V_2 \cap V_3) \\ (\text{extension for } V_1 \cap V_3)}}
    + \underbrace{d_1\overline{v}_1 + \cdots + d_{m_{23}}\overline{v}_{m_{23}}}_{
        \substack{\in \; (V_2 \cap V_3) \backslash (V_1 \cap V_2 \cap V_3) \\ (\text{extension for } V_2 \cap V_3)}} \\
    % newline
    \quad
    + \underbrace{e_1 u_1 + \cdots + e_j u_j}_{
      \substack{\in \\ \; V_1 \backslash (V_1 \cap V_2 ) \backslash (V_1 \cap V_3) \backslash (V_1 \cap V_2 \cap V_3)  \\ (\text{extension for } V_1)}}
    + \underbrace{f_1 w_1 + \cdots + f_k w_k \phantom{_j}\!\!\!}_{
      \substack{\in \\  \; V_2 \backslash (V_1 \cap V_2 ) \backslash (V_2 \cap V_3) \backslash (V_1 \cap V_2 \cap V_3) \\ (\text{extension for } V_2)}}
    + \underbrace{g_1 z_1 + \cdots + g_l z_l \phantom{_j}\!\!\!}_{
      \substack{\in \\ \; V_3 \backslash (V_1 \cap V_3 ) \backslash (V_2 \cap V_3) \backslash (V_1 \cap V_2 \cap V_3) \\ (\text{extension for } V_3)}}
    \end{aligned}
  \end{equation}


  %  The equation can be rewritten as
  %  \[
  %  \begin{aligned}
    %    &f_1 w_1 + \cdots + f_k w_k + b_1v_1 +  \cdots + b_{m_{12}} v_{m_{12}} + d_{1}\overline{v}_1 - \cdots + d_{m_{23}}\overline{v}_{m_{23}} \\
    %    & \quad = - a_1r_1 -  \cdots - a_{n_{123}} r_{n_{123}}  -  c_1\widetilde{v}_1 - \cdots - c_{m_{13}}\widetilde{v}_{m_{13}} - e_{1} u_1 - \cdots - e_j u_j - g_1 z_1 - \cdots - g_l z_l,
    %  \end{aligned}
  %  \]
  %
  This equation can be rewritten so we can isolate the $u$ terms:
  \[
  \begin{aligned}
    e_{1} u_1 + \cdots + e_j u_j = &- a_1r_1 -  \cdots - a_{n_{123}} r_{n_{123}} - b_1v_1 -  \cdots - b_{m_{12}} v_{m_{12}} \\
    &-  c_1\widetilde{v}_1 - \cdots - c_{m_{13}}\widetilde{v}_{m_{13}} - d_{1}\overline{v}_1 - \cdots - d_{m_{23}}\overline{v}_{m_{23}} \\
    &  - f_1 w_1 - \cdots - f_k w_k - g_1 z_1 - \cdots - g_l z_l
  \end{aligned}
  \]

  which shows that $e_{1} u_1 + \cdots + e_j u_j \in (V_2 + V_3)$. But since all $u$'s are in $V_1$ as well, this implies
  \[ e_{1} u_1 + \cdots + e_j u_j \in V_1 \cap (V_2 + V_3).\]


  Because $r_{1}, \ddd, r_{n_{123}}, v_{1}, \ddd, v_{m_{12}}, \widetilde{v}_1, \ddd, \widetilde{v}_{m_{13}}$ is a basis of $V_1 \cap (V_2+V_3)$, we have
  \begin{equation}
    \label{eq: equation for u}
    \begin{aligned}
    e_{1} u_1 + \cdots + e_j u_j &= h_{r_{1}} r_{1} + \cdots + h_{r_{n_{123}}} r_{n_{123}} \\
    &  + h_{v_{1}} v_{1} + \cdots + h_{v_{m_{12}}} v_{m_{12}} \\
    &  + h_{\widetilde{v}_1} \widetilde{v}_1 + \cdots + h_{\widetilde{v}_{m_{13}}} \widetilde{v}_{m_{13}}
    \end{aligned}
    \quad \iff \quad
    \begin{aligned}
    0 = e_{1} u_1 + \cdots + e_j u_j &- h_{r_{1}} r_{1} + \cdots + h_{r_{n_{123}}} r_{n_{123}} \\
    &  - h_{v_{1}} v_{1} + \cdots + h_{v_{m_{12}}} v_{m_{12}} \\
    &  - h_{\widetilde{v}_1} \widetilde{v}_1 + \cdots + h_{\widetilde{v}_{m_{13}}} \widetilde{v}_{m_{13}}
    \end{aligned}
  \end{equation}

  for some $h_{r_{1}}, \ddd, r_{n_{123}}, h_{v_{1}}, \ddd, h_{v_{m_{12}}}, h_{\widetilde{v}_1}, \ddd,  h_{\widetilde{v}_{m_{13}}}  \in \myF$. Since all terms can be taken on one side of the equation, all the $e$'s and $h$'s are $0$, because $r_1, \ddd, r_{n_{123}}, v_1, \ddd, v_{m_{12}}, \widetilde{v}_1, \ddd, \widetilde{v}_{m_{13}}, u_1, \ddd, u_j$ is a basis of $V_1$ and is therefore linearly independent. By the exact same logic, all $f$'s and $g$'s are $0$ as well. Therefore we can rewrite \eqref{eq: linear independence formula} as
  \begin{equation}
    \label{eq: second linear independence formula}
    a_1r_1 +  \cdots + a_{n_{123}} r_{n_{123}} + b_1v_1 +  \cdots + b_{m_{12}} v_{m_{12}} +  c_1\widetilde{v}_1 + \cdots + c_{m_{13}}\widetilde{v}_{m_{13}} + d_{1}\overline{v}_1 + \cdots + d_{m_{23}}\overline{v}_{m_{23}} = 0.
  \end{equation}


  Now if we take $b_1v_1 +  \cdots + b_{m_{12}} v_{m_{12}}$ to one side of the equation, it modifies to
  \[
  b_1v_1 +  \cdots + b_{m_{12}} v_{m_{12}} = -a_1r_1 -  \cdots - a_{n_{123}} r_{n_{123}} -   c_1\widetilde{v}_1 - \cdots + c_{m_{13}}\widetilde{v}_{m_{13}} - d_{1}\overline{v}_1 - \cdots - d_{m_{23}}\overline{v}_{m_{23}}
  \]

  So now it is clear that $b_1v_1 +  \cdots + b_{m_{12}} v_{m_{12}} \in V_3 \cap (V_1+V_2)$, since $r_1,  \ddd r_{n_{123}} ,  \widetilde{v}_1, \ddd, \widetilde{v}_{m_{13}}, \overline{v}_1, \ddd, \overline{v}_{m_{23}}$ is a basis of $V_3 \cap (V_1+V_2)$. But we also have that $v_1, \ddd, v_{m_{12}} \in V_1 \cap V_2$, so therefore
  \[
    b_1v_1 +  \cdots + b_{m_{12}} v_{m_{12}} \in (V_1 \cap V_2) \cap (V_3 \cap (V_1+V_2))
  \]

  which is equivalent to
  $
      b_1v_1 +  \cdots + b_{m_{12}} v_{m_{12}} \in (V_1 \cap V_2 \cap V_3) \cap (V_1+V_2).
  $
  So this also means that $b_1v_1 +  \cdots + b_{m_{12}} v_{m_{12}} \in (V_1 \cap V_2 \cap V_3)$ and hence there must exist $s_1, \ddd, s_{n_{123}} \in \myF$ such that
  \begin{equation}
    \begin{aligned}
      b_1v_1 +  \cdots + b_{m_{12}} v_{m_{12}} = s_1 r_1 + \cdots + s_{n_{123}} r_{n_{123}} \iff
      b_1v_1 +  \cdots + b_{m_{12}} v_{m_{12}} - s_1 r_1 - \cdots - s_{n_{123}} r_{n_{123}} = 0
    \end{aligned}
  \end{equation}

  Now since $r_1, \ddd, r_{n_{123}}, v_1, \ddd, v_{m_{12}}$ is a basis of $V_1 \cap V_2$, this means all $b$'s and $r$'s are $0$. Now this further changes our formula \eqref{eq: second linear independence formula} which originated from \eqref{eq: linear independence formula} to
  \begin{equation}
    a_1r_1 +  \cdots + a_{n_{123}} r_{n_{123}} + c_1\widetilde{v}_1 + \cdots + c_{m_{13}}\widetilde{v}_{m_{13}} + d_{1}\overline{v}_1 + \cdots + d_{m_{23}}\overline{v}_{m_{23}} = 0.
  \end{equation}

  Now finally, since we know that $r_1,  \ddd r_{n_{123}} ,  \widetilde{v}_1, \ddd, \widetilde{v}_{m_{13}}, \overline{v}_1, \ddd, \overline{v}_{m_{23}}$ is a basis of $V_3 \cap (V_1 + V_2)$, that all $a$'s, $c$'s and $d$'s must be $0$.

  So we have shown that in equation \eqref{eq: linear independence formula} that all $a$'s, $b$'s, $c$'s, $d$'s, $e$'s, $f$'s and $g$'s must be $0$. Therefore, we have shown that the list \eqref{eq: basis of V_1 + V_2 + V_3} is indeed a basis of $V_1 + V_2 + V_3$.
\end{xrcs}

%\section*{Statement}
%We are asked to prove the following equality between subspaces of a vector space:
%\[
%(V_1 + V_2) \cap V_3 = (V_1 \cap V_3) + (V_2 \cap V_3),
%\]
%where \( V_1, V_2, V_3 \) are subspaces of some vector space.
%
%\section*{Proof}
%
%We will prove the equality by showing both inclusions:
%\[
%(V_1 + V_2) \cap V_3 \subseteq (V_1 \cap V_3) + (V_2 \cap V_3) \quad \text{and} \quad (V_1 \cap V_3) + (V_2 \cap V_3) \subseteq (V_1 + V_2) \cap V_3.
%\]
%
%\subsection*{Inclusion 1: \( (V_1 + V_2) \cap V_3 \subseteq (V_1 \cap V_3) + (V_2 \cap V_3) \)}
%
%Let \( v \in (V_1 + V_2) \cap V_3 \). This means that \( v \) satisfies two conditions:
%1. \( v \in V_1 + V_2 \), which implies that \( v \) can be written as \( v = v_1 + v_2 \) for some \( v_1 \in V_1 \) and \( v_2 \in V_2 \).
%2. \( v \in V_3 \), which means that \( v \) also belongs to the subspace \( V_3 \).
%
%Thus, we have:
%\[
%v = v_1 + v_2 \quad \text{with} \quad v_1 \in V_1, \, v_2 \in V_2, \, v \in V_3.
%\]
%
%We aim to show that \( v_1 \in V_1 \cap V_3 \) and \( v_2 \in V_2 \cap V_3 \). This would imply that:
%\[
%v = v_1 + v_2 \in (V_1 \cap V_3) + (V_2 \cap V_3),
%\]
%and thus \( v \in (V_1 \cap V_3) + (V_2 \cap V_3) \).
%
%Now, suppose for the sake of contradiction that \( v_1 \notin V_3 \) or \( v_2 \notin V_3 \). Since \( v_1 \in V_1 \), \( v_2 \in V_2 \), and \( v = v_1 + v_2 \in V_3 \), we note that \( V_3 \) is a subspace and therefore closed under addition. If either \( v_1 \notin V_3 \) or \( v_2 \notin V_3 \), their sum cannot be in \( V_3 \), leading to a contradiction. Therefore, both \( v_1 \in V_3 \) and \( v_2 \in V_3 \) must hold.
%
%Thus, \( v_1 \in V_1 \cap V_3 \) and \( v_2 \in V_2 \cap V_3 \), and consequently:
%\[
%v \in (V_1 \cap V_3) + (V_2 \cap V_3).
%\]
%This proves that:
%\[
%(V_1 + V_2) \cap V_3 \subseteq (V_1 \cap V_3) + (V_2 \cap V_3).
%\]
%
%\subsection*{Inclusion 2: \( (V_1 \cap V_3) + (V_2 \cap V_3) \subseteq (V_1 + V_2) \cap V_3 \)}
%
%Now, we prove the second inclusion: \( (V_1 \cap V_3) + (V_2 \cap V_3) \subseteq (V_1 + V_2) \cap V_3 \).
%
%Let \( v \in (V_1 \cap V_3) + (V_2 \cap V_3) \). By the definition of the sum of two subspaces, there exist vectors \( v_1 \in V_1 \cap V_3 \) and \( v_2 \in V_2 \cap V_3 \) such that:
%\[
%v = v_1 + v_2.
%\]
%Since \( v_1 \in V_1 \cap V_3 \), we know that \( v_1 \in V_1 \) and \( v_1 \in V_3 \). Similarly, since \( v_2 \in V_2 \cap V_3 \), we know that \( v_2 \in V_2 \) and \( v_2 \in V_3 \).
%
%Therefore, we have \( v = v_1 + v_2 \) with \( v_1 \in V_1 \) and \( v_2 \in V_2 \). Since \( v_1 \in V_3 \) and \( v_2 \in V_3 \), it follows that \( v \in V_3 \), because \( V_3 \) is a subspace and closed under addition. Moreover, since \( v_1 \in V_1 \) and \( v_2 \in V_2 \), we conclude that \( v \in V_1 + V_2 \).
%
%Thus, \( v \in (V_1 + V_2) \cap V_3 \), which proves that:
%\[
%(V_1 \cap V_3) + (V_2 \cap V_3) \subseteq (V_1 + V_2) \cap V_3.
%\]
%
%\subsection*{Conclusion}
%
%We have shown both inclusions:
%\[
%(V_1 + V_2) \cap V_3 \subseteq (V_1 \cap V_3) + (V_2 \cap V_3) \quad \text{and} \quad (V_1 \cap V_3) + (V_2 \cap V_3) \subseteq (V_1 + V_2) \cap V_3.
%\]
%Therefore, we conclude that:
%\[
%(V_1 + V_2) \cap V_3 = (V_1 \cap V_3) + (V_2 \cap V_3),
%\]
%which completes the proof.